<!DOCTYPE html>
<html>
    <head>
        <title>The Observation Trail</title>
        <!-- javascript libraries -->
        <script src="/scripts/aframe-v0.8.2.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.2.2/isotope.pkgd.min.js"></script>


        <!-- imlpemented + customized javascript -->
        <script src="scripts/isotope.js"></script>
        <script src="scripts/guidebook.js"></script>
        
        <!-- components -->
        <script src="/scripts/actionObject.js"></script>
        <script src="/scripts/setGround.js"></script>
        <script src="/scripts/setCurveLeft.js"></script>
        <script src="/scripts/setCurveRight.js"></script>
        <script src="/scripts/setEnvironment.js"></script>
        <script src="/scripts/selectHiker.js"></script>
        <script src="/scripts/selectGuide.js"></script>
        <script src="/scripts/showInstructions.js"></script>
        <script src="/scripts/hideInstructions.js"></script>
        <script src="/scripts/hikerStart.js"></script>
        <script src="/scripts/timer.js"></script>

        <!-- required global variables -->
        <script>
            const numTiles = 5;    
            let timeStart = 0;
        </script>

        <!-- styles -->
        <link rel="stylesheet" href="styles/guidebook.css"/>

        <!-- google fonts -->
        <link href="https://fonts.googleapis.com/css?family=Quicksand:400,700|Raleway" rel="stylesheet"> 
    </head>
    <body>
        <a-scene>

            <!-- load assets -->
            <a-assets>
                <a-asset-item id="straightPath_obj" src="/models/path_straight.obj"></a-asset-item>
                <img id="straightPath_mat" src="/textures/arrow_tex.png">
                <a-asset-item id="curvePath_obj" src="/models/path_curve.obj"></a-asset-item>
                <img id="curvePath_mat" src="/textures/arrow_tex.png">
                <a-asset-item id="arrow_obj" src="/models/arrow.obj"></a-asset-item>
                <img id="arrow_mat" src="/textures/arrow_tex.png">
                <a-asset-item id="ref_obj" src="/models/bigRock1.obj"></a-asset-item>
                <img id="ref_mat" src="/textures/bigRock_tex.png">
            </a-assets>

            <!-- camera -->
            <a-entity id="cam" position="0 1.4 2" camera look-controls wasd-controls>
                <a-entity cursor="fuse:true; fuseTimeout:500; rayOrigin:mouse;" position="0 0 -1"></a-entity>
            </a-entity>

            <!-- selection screen -->
            <a-entity   select-hiker-comp
                        id="selectHiker" 
                        geometry="primitive: plane; width: 0.75; height: 0.25;" 
                        material="color: #ff9048;" 
                        position="0 1.6 1">
                <a-text 
                        value="Hiker" 
                        color="#ffffff" 
                        anchor="center" 
                        align="center" 
                        baseline="center"></a-text>
            </a-entity>
            <a-entity   select-guide-comp
                    id="selectGuide" 
                    geometry="primitive: plane; width: 0.75; height: 0.25;" 
                    material="color: #ff9048;" 
                    position="0 1.2 1">
                <a-text 
                    value="Guide" 
                    color="#ffffff" 
                    anchor="center" 
                    align="center" 
                    baseline="center"></a-text>
            </a-entity>

            <!-- sky -->
            <a-entity id="sky" geometry="primitive: plane; width: 200; height: 200;" material="color: #7EC0EE;" position="0 0 -30"></a-entity>

            <!-- path tiles, with generation of left and right sides -->
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat"></a-entity>
            <a-entity set-curve-l-comp set-enviro-comp="curve: left" id="forkPath" obj-model="obj: #curvePath_obj;" material="src: #curvePath_mat" position="0 0 -6" rotation="0 180 0"></a-entity>
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat" position="-6 0 -12"></a-entity>
            <a-entity set-curve-r-comp set-enviro-comp="curve: right" id="forkPath" obj-model="obj: #curvePath_obj;" material="src: #curvePath_mat" position="-6 0 -18" rotation="0 -90 0"></a-entity>
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat" position="0 0 -24"></a-entity>


            <!-- objects -->
            <a-entity action-obj-comp="objectType: rock; correctAction: stick;" id="ref-obj" obj-model="obj: #ref_obj;" material="src: #ref_mat"></a-entity>
            <a-entity id="ref-obj-arrow" obj-model="obj: #arrow_obj;" material="src: #arrow_mat" rotation="0 90 0" scale="0.2 0.2 0.2" position="0.25 1.05 0"></a-entity>

        </a-scene>
    </body>
</html>