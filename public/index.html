<!DOCTYPE html>
<html>
    <head>
        <title>The Observation Trail</title>
        <!-- javascript libraries -->
        <script src="/scripts/aframe-v0.8.2.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.2.2/isotope.pkgd.min.js"></script>


        <!-- imlpemented + customized javascript -->
        <script src="scripts/isotope.js"></script>
        <script src="scripts/guidebook.js"></script>
        
        <!-- components -->
        <script src="/scripts/actionObject.js"></script>
        <script src="/scripts/setGround.js"></script>
        <script src="/scripts/setCurveLeft.js"></script>
        <script src="/scripts/setCurveRight.js"></script>
        <script src="/scripts/setEnvironment.js"></script>
        <script src="/scripts/selectHiker.js"></script>
        <script src="/scripts/selectGuide.js"></script>
        <script src="/scripts/showInstructions.js"></script>
        <script src="/scripts/hideInstructions.js"></script>
        <script src="/scripts/hikerStart.js"></script>
        <script src="/scripts/timer.js"></script>

        <!-- required global variables -->
        <script>
            const numTiles = 5;    
            let timeStart = 0;
        </script>

        <!-- styles -->
        <link rel="stylesheet" href="styles/guidebook.css"/>

        <!-- google fonts -->
        <link href="https://fonts.googleapis.com/css?family=Quicksand:400,700|Raleway" rel="stylesheet"> 
    </head>
    <body>
        <a-scene>

            <!-- load assets -->
            <a-assets>
                <a-asset-item id="straightPath_obj" src="/models/path_straight.obj"></a-asset-item>
                <!-- put straight path texture in img src below -->
                <img id="straightPath_mat" src="/textures/straightPath_tex.png">
                <a-asset-item id="curvePath_obj" src="/models/path_curve.obj"></a-asset-item>
                <!-- put curve path texture in img src below -->
                <img id="curvePath_mat" src="/textures/curvePath_tex.png">
                <a-asset-item id="arrow_obj" src="/models/arrow.obj"></a-asset-item>
                <img id="arrow_mat" src="/textures/arrow_tex.png">
                <a-asset-item id="skunk_obj" src="/models/skunk.obj"></a-asset-item>
                <img id="skunk_mat" src="/textures/skunk_tex.png">
            </a-assets>

            <!-- camera -->
            <a-entity id="cam" position="0 1.4 2" camera look-controls wasd-controls>
                <a-entity cursor="fuse:true; fuseTimeout:500; rayOrigin:mouse;" position="0 0 -1"></a-entity>
            </a-entity>

            <!-- selection screen -->
            <a-entity   select-hiker-comp
                        id="selectHiker" 
                        geometry="primitive: plane; width: 0.75; height: 0.25;" 
                        material="color: #ff9048;" 
                        position="0 1.6 1">
                <a-text 
                        value="Hiker" 
                        color="#ffffff" 
                        anchor="center" 
                        align="center" 
                        baseline="center"></a-text>
            </a-entity>
            <a-entity   select-guide-comp
                    id="selectGuide" 
                    geometry="primitive: plane; width: 0.75; height: 0.25;" 
                    material="color: #ff9048;" 
                    position="0 1.2 1">
                <a-text 
                    value="Guide" 
                    color="#ffffff" 
                    anchor="center" 
                    align="center" 
                    baseline="center"></a-text>
            </a-entity>

            <!-- sky -->
            <a-entity id="sky" geometry="primitive: plane; width: 200; height: 200;" material="color: #7EC0EE;" position="0 0 -30"></a-entity>

            <!-- path tiles, with generation of left and right sides -->
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat"></a-entity>
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat" position="0 0 -6"></a-entity>
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat" position="0 0 -12"></a-entity>
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat" position="0 0 -18"></a-entity>
            <a-entity set-curve-l-comp set-enviro-comp="curve: left" id="forkPath" obj-model="obj: #curvePath_obj;" material="src: #curvePath_mat" position="0 0 -24" rotation="0 180 0"></a-entity> 
            <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat" position="-6 0 -30"></a-entity>
            <!-- Base Straight
                <a-entity set-ground-comp set-enviro-comp id="straightPath" obj-model="obj: #straightPath_obj;" material="src: #straightPath_mat" position="0 0 -z"></a-entity>
            -->
            <!-- Base Left Curve
                <a-entity set-curve-l-comp set-enviro-comp="curve: left" id="forkPath" obj-model="obj: #curvePath_obj;" material="src: #curvePath_mat" position="0 0 -z" rotation="0 180 0"></a-entity> 
            -->
            <!-- Base Right Curve
                <a-entity set-curve-r-comp set-enviro-comp="curve: right" id="forkPath" obj-model="obj: #curvePath_obj;" material="src: #curvePath_mat" position="0 0 -z" rotation="0 -90 0"></a-entity>
            -->

            <!-- skunk -->
            <a-entity id="skunk" action-obj-comp="objectType: clap; correctAction: clap; animalType: skunk" obj-model="obj: #skunk_obj;" material="src: #skunk_mat" position="0 0 -25"></a-entity>
            <!-- approach action -->
            <a-entity id="approach-arrow" action-obj-comp="objectType: approach; correctAction: clap; animalType: skunk" obj-model="obj: #arrow_obj;" material="src: #arrow_mat" rotation="0 90 0" position="0 0.6 -24.5"></a-entity>
            <!-- left path action -->
            <a-entity id="left-path-arrow" action-obj-comp="objectType: path-left; correctAction: clap; animalType: skunk" obj-model="obj: #arrow_obj;" material="src: #arrow_mat" rotation="90 90 0" position="-2 0.5 -24"></a-entity>
            <!-- throw rock action - needs rock -->
            <a-entity id="rock-arrow" action-obj-comp="objectType: rock; correctAction: clap; animalType: skunk" obj-model="obj: #arrow_obj;" material="src: #arrow_mat" rotation="0 90 0" position="-2 0.5 -22"></a-entity>
            <a-entity id="rock-arrow" action-obj-comp="objectType: rock; correctAction: clap; animalType: skunk" obj-model="obj: #arrow_obj;" material="src: #arrow_mat" rotation="0 90 0" position="-2 0 -22"></a-entity>

        </a-scene>
    </body>
</html>
